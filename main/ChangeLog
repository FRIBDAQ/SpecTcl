]
2.1-006 - Incorporate fix 113 - low level cutoffs lead to corrupted
          1-d displays.
        - Have build procedures clean any pre-built Gri prior to 
          tarring up the distribution.
2.1-007 - Incorporate fix 120 - memory leak on spectrum -delete -all
        - Date/time/version stamp installation.
2.1-008 
	- Incorporate fix for issue 95: parameter -list -byid fails to parse
          the output list for sorting.
        - Incorporate fix for issue 105: sbind usage level help refers to
          itself as the bind command not sbind.
        - Incorporate fix for issue 111: swrite creates a file even if
          no valid spectra are included on the command line.
2.1-009 
	- Incorporate printing fixes for last channel of 1-d.
	- Incorporate printinf fix ensure that 2-d spectrum channels display
      	  all non zeroes even if they are below the threshold for the lowest
	  color range.
        - Place upper limits on 1-d graphical entries at the top  of the
	  channel rather than at the bottom.  This more realistically
	  describes what's going on
        - Fix issue 118 Superpositions in window files are by id not name.
        - Fix issue 122 Speclist with a single spectrum gives blank output.
	- Fix issue 123 Print with superpositions crashes gri (gives it a
  	  bad command file).
	- Fix issue 124 FWHM not transformed to mapped coordinates.
2.1-010 - Fix Display/Makefile issues with lingering bison/flex output
          Add missing return value in ValidValue::operator=.
2.1-011 - Fix issue 135  swrite -format ascii does not retain the axis
             mapping information correctly.
        - Fallout from issue 133; fixed a defect in Display/axes.cc where
          computation of mapped channel tick mark intervals could cause
          DIV0 crashes in Xamine when the axis decreases from left to right. 
        - Backport colormanager intelligent visual choices from 2.2
2.1-012 - Backport fix for defect 144 from 2.2: Memory leak when user
          rejects events.
        - Backport repair for defect 149: Some cases where spectrum
          deletion from Xamine can kill both Xamine and SpecTcl
        - Backport repair for defect 145 Names with special characters
	  cause saveall to produce bad files.
2.1-013 - Backport filter generation fix from 2.2
          Repair defect 157: Graphical object copies fail if target
          is spectrum slot > 999
2.1-014
	- Fixed defect 151: printing 2-d's the channels have incorrect
          values, and log prints are just plain flat lined.
2.1-015 
        - Fix un-numbered defect channel command gets/sets wrong channel
          on Gamma 2-d's.  This was broken with the introduction of 
 	  arbitrary binning in 2.1.
Modifications for SpecTcl 2.2
January 30,2004  - Updated gri to gri-2.12.7
March 23, 2004   - Issue 97b - Add hierarchical unpacking capability to scripted spectcl.
                             - Also don't require begin run to pick up config.
March 31, 2004   - Added -rpath to contrib/scripted Makefile so that
                   LD_LIBRARY_PATH or ld.so.conf not needed.
April  5, 2004   - Fix issue 118 - low level cutoff display bug.
April 12, 2004   - Extract as many defs as possible from skeleton makefiles
                   to centrally located include files in order to keep the
 	           user makefiles constant.
                 - Use etc not Etc for etcetera stuff.
                 - Add buildstamp
April 13, 2004   - Fix memory leak on delete -all command: Spectrum
                   storage itself is not getting deleted.
                 - Fix lack of error checking on insufficient memory for
                   binding 2d spectrum (can segfault).
April 29, 2004   - Fix issue 95: parameter -list -byid fails.
April 29, 2004   - Fix issue 105: sbind Usage level help calls itself the
                   bind command which conflicts, of course, with the TCL
                   bind command.
April 29, 2004   - Fix issue 111 - swrite command creates a file even if no
                    existing spectra have been specified.
May 5, 2004      - Fix little diddly issues with printing and also
                   Put right limit at the top of a channel rather than the
                   left side of a channel.
                 - Fix ISSUE 118 superpositions in window files are written
	           as id's not as names.
	         - Fix issue 123 superpositions don't print
	         - Fix issue 124 FWHM is not translated to mapped coordinates
	           when spectrum is in mapped mode.
May 12, 2004     - Fix issue 49  
	           Fetching values from ValidValues that are in the
	           invalid state will now throw exceptions 
                 - Fix issue with Display/Makefile that clean leaves behind
                   detritus from flex and bison. (Added MOSTLYCLEANFILES 
                   to Display/Makefile.am).
June 8, 2004     - Increase spectrum size limits to 2^31.
June 17, 2004    - Defect 131 - There were problems generating the print tick
		   intervals when the axis specifications went in 'reverse'
		   (e.g. {100 -100 200}).  Fixed in modifications to
		   griprint.cc I think.
                 - Fix build issues in TestFiles directory so that the
                   event test generting programs can be built again Yeah.
July 1, 2004     - Defect 135 - swrite does not properly preserve the
                   axis mapping information.
	           Fallout from defect 133 discovered and fixed a defect
                   that causes the axis tick computation to DIV0 when
                   mapped axes have decreasing values going away from the
                   origin (e.g. {100 -100 201}).
July 2, 2004     - Defect 132 - Translator pointers are constrained to 
                   natural data boundaries.
                 - Defect 137 - Fix defect introducec by fix of Defect 132:
		   assumed getOffset was returning T offset it's now returning
		   byte offsets.
July 9, 2004     - Added DesignByContract to the Utility headers.
July 27, 2004    - Added contrib/calibratedparams  (TUNL) for linear
                   calibrations for parameters first the fit functions.
July 30, 2004    - Added CCAENV1x90Data.h to contrib/scriptable in order
                   to support unpacking of this module.
August 9, 2004   - Modified colormgr.cc to better deal with systems that
                   have visuals that are not in decent order nor good:
                   Look through all the visuals and choose the true/direct
                   color visual with the most bits, if none exist, then
                   Choose the Pseudo color visual with the most bits.
	           If none of those exist drop back to bitonal.
August 16, 2004 - Fix broken link  to apply.htm in categories.htm documentation
August 17, 2004  - Added the calbrated parameters sources to the mix
                   (need to get them to compile!).
                   Debugged as of August 20.
August 25, 2004  - Fixed defect 144 - memory leak if user rejects events.
September 2, 2004 - Made pseudo parameters pass validity flags too.
September 7, 2004 - Fix error in CEventFilter::setBit... which did not
                    count on there being 8 bits per byte.
September 8, 2004 - Removed in-linedness of CGate::RecursiveReest I had
                    thought this was triggering a compiler error but
                    it was not in fact.  Since this is a virt. there's no
                    gain to inlining it anyway.
September 23,2004 - NamedItem.h - decided to finally trust stl's string
                    constructors.. the way I was doing named item
 	            constructors was giving Purify fits.
September 24,2004 - Added CalibrationDistribution to produce evenly spaced
                    identical peaks.
                  - Added mechanism to fetch the applicatino's test data
                    source so that it can be modified etc.
                  - Fixed defect in CTclGrammerApp::SetupTestDatsSource
                    there was a local declaration of a m_pMultiTestSource
                    that masked the member data.:

September 30,2004 - Happy Birthday Ron!! 
                  - Fixed issue 133 Centroids and
	            FWHM not correct for mapped parameters (still).
                  - Made test distributions produce floating point params
                    to make the more flexible.. Gaussian is a symmetric
                    cutoff now.
October   4, 2004 - Added a bit of defensive programming in view of defect
                    149.
October  19, 2004 - Changed default gate names in Xamine to be better in line
	            with well behaved TCL Strings.
October 18-20  2004 - Factor all coordinate transformations into common spots 
                     part of trying to fix defect 133.
October 20,    2004 - Additional code reorganization of Xamine stuff that
                    I just could not stand to look at in fixing defect 133.
October 20,    2004 - Factor acceptgates.cc DrawPoints functions back into
                     the base class where it belongs.  Could not stand to look
	             at it duplicated in 3 different places.
October 20-22    2004 - Fix defect 145: Spaces and special characters in names
                      can make saveall loadall fail miserably...and other misc.
                      things uncovered while repairing the defect.
October 25,26    2004 - Optimize 1d long histogram increments.  Note that many
                      but not all changes will help 2d word increments too, but
                     these (less often used) histograms won't get full benefit
                     as there are modifications to the Spectrum1DL file that
		     are deliberately not propagated back to Spectrum1DW
October 27,      2004 -Optimize2d short histogram increments

November 3,2004 - Fixed position computations on expanded spectra.
November 4,2004 - Fixed defect 60 in Xamine: Spectrum choosers should come out
                 sorted by name.
November 102004 - Repaired defect 147: Xamine copy object copies to wrong
                  spectrum if slot # > 999

Edit level 2.2-001
November 30, 2004 
	- Forward port fix to defect 151 from 2.1:
             colorscales on griprint were way off for 2-d prints.
        - Fix unnumbered defect: channel get/set broke for 2-d gamma 
          spectra starting with SpecTcl 2.2
                  spectrum if slot # > 999

SpecTcl 3.0: 
      Port to gcc/g++ 3.x:
         o Lots of gruntwork with config.h etc. in all sources.
         o Added Tcl Channel inquiry functions to CTCLInterpreter to
	   allow the location of Tcl_Channel given it's name.
	    GetChannel
	    GetChannelNames
         o Added CTCLChannel object that can do simple channel operations.
            Read
	    Write
	    atEof
	    Flush
            Close
         o In {Write,Read}Command.cpp  use tcl[io]streams to connect
           swrite/sread to Tcl channel parameters rather than decoding the
	   filename.
      Propagate fix for defect 151 from 2.1 -> 2.2-> 3.0
      
December 28, 2004
    - Switch ExprLong -> strtol in contrib/scriptable CIntConfigParam.cpp
      and CIntArrayParam.cpp since ExprLong, as of Tcl 8.4 does not work
      with large unsigned values.
December 31, 2004
    - D. Bazin removed the treeparam Makefiles.  Adjust the
      contrib/Makefile.am accordingly.
January 06, 2005
    - Fixed up some missing quotes on makefile.skel's.
January 11, 2005
    - Roll in another treeparmaeter update from D. Bazin
January 12, 2005
    - swrite file creation needs an ios::trunc else existing files will 
      leave postpended data if they were larger.
January 13, 2005
    - Xamine superposition fix for id's > 999
January 26, 2005
    - Fix problem with long spectrum names:
      o Xamine's truncation was making CHistogrammer::UnbindFromDisplay
        assert fail.
      o Xamine was not putting up the correct spectrum list due to a buffer
        overflow problem in spectra.cc
January 27, 2005
    - Fix low level cutoff in 1-ds that had been fixed in 2.1 but not 
      propagated to new versions.

3.0-001
February 11, 2005
    - Added Analysis subdirectory to the build.  This directory will have stuff
      that's used by buffer analysis it is NSCL specific.
February 14, 2005
    - Completed testing of Analysis library.
February 15, 2005
    - Added C interface to Analysis library and unit tests for those.
    - Added check for paths for the 'check' c unit test framework.
February 22, 2005
    - Added/debugged classes to TCL++ that make it easy to
      do variable tracing (TCLTracedVariable, and VariableTraceCallbac e.g.).
    - Added stuff to SpecTcl that allows it to pull stuff out of string list
      buffers that represent TCL scriptlets and execute those scripts. this
      is currently useful to reconstruct control system data and other stuff
      that may be in statevariable and runvariable buffers which look like
      a bunch of set varname value commands.
    - Fix 1/0 month counting problem with run control timestamps in 
      Analysis library.
February 25, 2005
   - Documented the variable tracing support.
   - Documented run/state variable recovery.
March 4, 2005
   - Set the version string to 3.0pre1
March 8, 2005
   - Move the event sink pipeline class into Events and out of 
     the Filter directory.
   - Add SpecTcl API (tested) to the build and cvs.
March 17, 2005
   - Add documentation for the SpecTcl api as a spectcl man page.
March 21, 2005
   - Added -fno-elide-constructors to user's makefile to ensure that 
     TreeParameter construction is handled correctly.
   - Support settable I/O poll dwell time.
April 15, 2005
   - Began integrating a rewritten treeparameter into the software.
April 16, 2005
   - In contrib/calibparam : add a random number in [-.5, .5] to the
     input of the calibration under the assumption that the input is
     integer and therefore needs to be turned into a real.
April 18, 2005
   - Added documentation to the treeparamter package.
April 19, 2005
   - Fix up a tcl 8.4 dependency in CTreeVariableProperties.cpp
April 21, 2005
   - Fix up coordinate transform problems in Xamine with grobj locations.
     Scaled wrong and offset wrong.
   - Make it a bit clearer that the Treeparameter GUI version is decoupled
     from SpecTcl's version... for now.
April 22, 2005
   - Remove nulls from Xamine's log files and replace them with \n's instead.
April 29, 2005
   - TreeParameter save function didn't always get the dependencies right 
     causing error in loading.  Changed functions in SpectrumGenerator.tcl.
     Fix for bugzilla bug 173
May 2, 2005
   - Ensure filters get closed if active at program normal exit.
   - Encapsulate Xamine's gates and grobs inside a vector so that there's no 
     longer a fixed compilation limit on the number of gates /objects that
     can be defined.
   - Support GCC-3.4 compiler
May 11, 2005 
  - Added support for StripChart Spectra
  - Check the compiler type in configure to see if we can use -pedantic
     and do so if we can.
  - Debug -pedantic effects on compilation.
  - Fix defects nobody noticed in swrite -format binary/sread -format binary
    Probably introduced about SpecTcl-2.0  
May 12, 2005
  - Fixed attach -format .... error that probably only expresses on 
    gcc-3.x since nobody's seen/reported it but me until now
May 13, 2005
  - Fixed problem in Strip chart so that the parameter list is returned 
    in the correct order
--------------------------- End of Pre3 mods ------------
May 17, 2005
  - Set map to on by default in Xamine.
May 18, 2005
  - Add support for CTCLString::AppendElement(DFloat_t, const char* format)
    use it in parameter package's  parameter list of mapped parameters
    as a test.
  - Add support for CTCLString::AppendElement(long, const char* format)
  - Add support for mask equals gates as well as define the mask gate base class.  - Add Support for "not mask" and "and mask" gates
May 20, 2005
  - Support for compilation on gcc/g++ 4.0
May 23, 2005
  - Integrate gamma gate redo=======
  - Add Support for "not mask" and "and mask" gates
  - Added support for "gate -list [pattern]" so that users can filter
    the results of the gate -list command
  - Added support for "spectrum -list [pattern]" so that users can filter
    the results of the spectrum -list command
May 27, 2005
  - Added support for a glob like pattern in the switch of the clear, pararmeter
    bind, apply, and pseudo commands.  When a pattern is given after -list, the 
    command returns objects whose name matches the pattern.
May 31, 2005
  - Remove extra copy construction in TreeParameter ThrowIf's.. as that's an 
    enormous performance hit.
June 1, 2005
  - Fix documentation errors in gate command wrt mask gates.

3.1
June 7, 2005
  - Incorporate defect fix in guiintegrate.cc into this version.
June 20, 2005
  - Fix type on Spectrum.h  getAxisMapCount() had been spelled GetAxisMapCout().June 21, 2005
  - Forward port some fixes for tree parameter gui:
    o gui writing tree variables and parameters with "" units doesn't put
      {} for units but leaves it empty.
    o Allow treevariable -set units optional.
June 22, 2005
  - Support for projection spectra.
June 29, 2005
  - Remove need for working fortran compiler.
July 7, 2005
  - Add ia64 adjustments from 3.0 branch
July 27, 2005
  - Fix up some automake incorrectnesses that old versions of AM let slide.
    This is part of an effort to port to Cygwin.
  - Fix up issues with the definition of PAGESIZE in Xamine (Display subdir)
    That make it not build correctly on CYGWIN.
August 16, 2005
  - Add support to scripted readout for caenv1785 adc (primitive).
September 2, 2005
  - Added support for 2d long spectra.
September 22, 2005
  - Fix defect in Gamma 2d increment:  If no valid parameters are left,
    the outer loop limits are very very bad.
  - Forward port the inclusion of bitmask gates 
  - Support dynamic creation of treeparameters.
  - Document treeparameter -create command in online user guide.
September 30, 2005  - Happy Birthday Ron: 48
  - Add -listnew to treeparameter command so that new gui can
    figure out which parameters have been created since program
    started ... and save them.
October 5, 2005
  - Retry select in pipe data source in case of EINTR.
  - Add attach -list to support determination of event source.
October 7, 2005
  - Fix defects in eventsink pipeline add/delete code.  Predicates
    not constructed correctly.
October 17, 2005
  - Add the new browser based GUI to the system.
October 18, 2005
  - Add fix for defect 188 - grobj files need to specify spectra by name.
October 21, 2005
  - Fix error in old tree gui handling of old list mode save files:
    treeparameter -set was invoked with the wrong number of parameters.
October 24, 2005
  - Fix error in old tree gui:  Saving list mode files treeparameterList
    was missing a $ when being appended to the list of lists...so no modified
    treeparameters were saved.
October 31, 2005
  - Fix buffer overflow problem in griprint.cc found by D. Caussyn.
November 29, 2005
  - Put spectrum names in integrations (and hence in logfiles), rather
    than slot numbers
  - Defect 174 - Make +/- buttons kick out of autoscale.
  - Defect 162 - Document user's obligation to delete buffer
    translators.
Decemberr 19, 2005
  - Remove illegal default parameter from PointlistGate.h's InGate with
    parameters.
February 1, 2006
  - Factor adding a configuration parameter to a CModule in Scriptable SpecTcl
    into AddParameter member function so extenders can add new parameter types.
3.1-pre5
February 17, 2006
  - Factor out multiple identical definitions of some typedefs into
    xamineDataTypes.h
February 20, 2006
  -  Add longer descriptive titles to the Xamine names (parameter, gates etc).
  -  Fix some quoting errors in gui with respect to spectrum names with spaces.
February 21, 2006
  - Protect evals from parameters that have spaces in them by quoting
    with [list].
  - Add ability to list gates with spectra in SpectrumPackage.cpp's 
    DescribeSpectrum and immediate callers.
  - Add -showgate switch to -list operation on spectrum command.
  - Fix PseudoScript.cpp - did not properly handle cases where pseudo names
    had spaces in them.
February 23, 2006
  - Fix typo in Gui/spectrum.tcl
March 10, 2006
  - Unit tested migration of TCL++ library to object interfaces (remove
    deprecated interfaces).
  - Added Docbook generating stuff to configure.in
March 13, 2006
  - Made operator=, operator== and operator!= of CTCLChannel private as there
    are no implementations.
March 16, 2006
  - Added extensive XML based manpages for the tclPlus CTCL class
    library.
  - Support pre/post command functions for CTCLProcessor.
    this is used in nscldaq to implement the CDAQTCLProcessor.
  - Need to implement CTCLProcssor::Bind to bind itself and the adaptor.
March 20, 2006
  - Added a bit more error checking/reporting to spectrum creation gui.
March 22, 2006
  - Fixed an error in 1-d spectrum creation.. syntax 
March 30, 2006
  - Credit D. Bazin with concept of treeparameter in treeparam C++ sources.
April 17, 2006
  - Fix some 64 bit uncleanliness in Xamine so SpecTcl/Xamine can run
    reliably on 64bit systems in 64bit mode.
April 18, 2006
  - Old method of long titles did not work very well as it made
    old .win files worthless.
April 20, 2006
  - Fix error in sourcing file from GUI.. file should execute at global level.
April 21, 2006
  - Add buffersize selector to event source dialogs.
April 23, 2006
  - Fix typos in  event source dialogs buffersize stuff.
  - Add many credits.
April 26, 2006
  - Added screen dump based printing for the A1900 group and the
    KSU folks who want a wysiwyg printing mechanism.
May 23, 2006
  - Fix defect 195,196: gri was emitting epsf which caused multiple pages
    to smoosh onto a single page, printer.cc: Print setup dialog had a
    widget that duplicated the name of another widget causing it to operate
    funny.
SpecTcl-3.1-001
   - Try to make the docbook builds more robust even in the presence of missing
     or broken(?) docbook installs.
   - configure for libgd.

SpecTcl 3.2-pre1 starts.
  June 20, 2006 defect 206:  Check parameter validity in mask gates.
                             Catch exceptions while histogramming
                Defect 197:  Averaging reduction boxes too large by 
                             1 channel in x.
                Defect 200:  Gamma 1dL spectrum increments no 64 bit clean
                Defect 209:  Mor of the same as 200.
  June 23, 2006 Defect 210:  Problems with scaning ints -> longs.
  June 28, 2006 Xamine has some 64 bit defects as well, these manifest
                           on longword 2d spectra
                Gui has problems if the user makes e.g. a and a.b  fix this.
                Defect 211 - crash if making g1 spectrum with empty parameter 
                             list
  June 29, 2006 Improve performance of terminal parent creation in gui.
                Fix defect in allocatro.c's alignment mask computation that
                causes free list corruption on e.g. 64 bit systems.
  July 5, 2006  Propagate fix for 64 bit problems with mask equal gates.
                Work around issue with tclsh 8.4 early where
                string is integer 0x80000000 (e.g.) returns false..
                makes creation of mask gates fail.
  July 13, 2006 Forward propagate fix for defect 213 to this version.
                Took the easy way out copying all of *.cc,*.h from Display
                and ChanCommand.cpp from SpecTcl.
  July 17, 2006 Fix bitmask gate inconsistency between mask size in command
                and in the classes implemebnting the gates....do this
                by loading the gate mask value into the base class.
  July 19, 2006 Fix error in newGui.tcl. When used with scaler processing,
                RunNumber could be >Unknown< when formatting the status
                line.
  July 28, 2006 Fix error in wysiwyg printing  for zoomed displays.
  July 31, 2006 Fix off by one error in scaling.cc - for small scale ranges,
                and small channel values, the channel height was visibly
                lower than the corresponding tick mark.
  August 8, 2006 Enhancement 194 - increase precision in output of 
                 integrations.
  August 15,2006 Enhancement 205 - Limited the length of the attach spec on the
                GUI status line to at most 50 chars with the middle ones
                replaced by ...  this prevents the window from becoming
                >very large< for e.g. cluster file analysis.
  August 16, 2006 Do performance tuning of browser.tcl for 64 bit system.
	        on those systems, treeview find is terribly slow.
  August 29, 2006 Added setResult functions to CTCLInterpreter to factor
               object based result setting into one spot.
  September 7, 2006 Added support for super-events with 
                CAnalyzer::entityNotDone() function.
  Sept 8, 2006b Related to the above, allow event processors to indicate that
                0 bytes of the event were processed if the event was not complete.
  Sept 27,2006  Added code to support multiply incremented 2-d sum spectra.
  Oct. 03, 2006 Gui: Add preferences control panel with ~/.SpecTclDefaults
                save file.  Use this to default the length of 2-d spectrum
                axes.
  Oct 03, 2006 Gui: Prevent status lines from expanding in height.
  Oct 04, 2006 rwio package - added permissions letter to the cvs and
               to the distro.

  Oct 05, 2006 Xamine- add support for entering fitlines.
  Oct 09, 2006 GUI - Bugzilla 207 - Increase the sophistication used
               by SpecTcl's gui to located spectcldaq.
  Oct 10, 2006 - GUI - Bugzilla 208 - Enhancement request for File->Save...
               to support a selective store.
               - Filter processor Bugzilla 217 - Put a bit of code in the
               filter event processor to attempt to determine if it has
	       been pointed at something that is not a filter file.
               Seems to work for the cases I've tried, so it's 
 	       certainly better than it was before.
  Oct 16, 2006 - Bugzilla 219 : Added code to TclGrammerApp.cpp to output
	         the VERSION file to tkcon.
               - BZ 220 Allow user to disable prompt for 
                 new gui.  If NoPromptForNewGui is defined and true,
                 prompting will be disabled.
  Oct 19, 2006 - BZ 224 - 2d long integrations were incorrect on 64 bit plats.
               - BZ 226 - Added support for attach and eof callouts to
		 event processors.
               - Documented new functions in the event processors.
  Oct 20,2006  - BZ 87 Added basic fitting... still some kinks to work out
                 in the Xamine display but it does work...also need
                 to Xamine drive Gui to create the fit.
  Oct 23, 2006 - Added documentation for the fit command and how to 
                 extend the fitting subsystem.
  Oct 24, 2006 - Fixed error in log display of fitlines (actually convert1d error).
                 Made fitlines solid lines not just dots.
                 Fixed defect introduced with fitlines - where 1-d objects
                 got deleted on updates.
                 Ensured that fitlines get sent in on sbind. 
                 Added framework for user processing of Xamine buttons in
                 the Xamine custom button box.
 Oct 25, 2006  - CXamineEvent::addButtonHandler needs to be public.
                 Expose ability to get the histogrammer etc. in SpecTcl.h
                 Expose fit id allocation in CfitCommand.
                 Added credits for gsl.{cpp,h} and permission grant to the
 November 1, 2006 - Fix some issues for building from the distro rather than
                 from CVS.
                 distribution
 Nov  2, 2006  - Get the calibrated parameter contrib install to stop polluting
                 $(prefix)/include with its headers.
               - Fix wierd issues with make dist on ubuntu edgy edge...
                 was not putting config dir into the distro.=======
                 distribution
 Nov 3, 2006   - Fix error introduced in scaler display by attempt to 
                 format totals as %u when they are actually floating point
                 exactly to keep them from overflowing.
               - Support a default buffersize preference.
 Nov 8, 2006   - Add Xamine restart handler capability to Xamine interface.
 Nov 9, 2006   - Install CHANGELOG 
 Nov 17, 2006  - Fix defect 228 - Xamine.Defaults can get printing defaults
                 all garbled causing printing to fail or crash Xamine
               - Fix defect 299 - setup.tcl is obsolete now, don't distribute
                 in Skel dir.
December 1, 2006 
               - Fix defect in edit2dmulti.tcl (pre-release).  If selecting
		a spectrum and an axis parameter is not a treeparameter,
		use the source spectrum axis definitions to provide the
		appropriate axis def for the new spectrum.
December 7, 2006 
               - Fix 2 defects:
                 o Removing fits from xamine via SpecTcl failed due to 
                   not allowing that 'gate type' to be recognized for 
                   deletion.
                 o Deleting a spectrum should delete all fits that are
                   defined on that spectrum.
December 19, 2006 
               - Fix defect per D. Caussyn FSU: CXdrInputStream.cpp was
                 doing delete m_pBuffer -> delete [] m_pBuffer.
Decmeber 21,2006 
               - Ensure that the scriptable makefile also links in 
		 the fits library.
Release Jan 15, 2007

Pre 2 starts.

January 18, 2007 - Defect 288 : applygate.tcl did not handle case of
			multiple target spectra correctly.
February 12, 2007 - Enh Request 232 : when treevariable -set is invoked,
		 fire the traces on that variable so that any GUI elements
		bound to that treevariable are updated
February 13, 2007 - Defect/enh. 234 : When a configuration is restored,
                and the config script has an error, keep on trying to
		execute the script but report all the errors in a dialog...
		at present, hopefully there are not very many errors as
		the dialog is not a scrolling dialog.
February 15,2007 - Synch gpVersion with VERSION symbol in config.h
Week of Feb 22, 2007 - BZ enhancement request 291 Gamma 2d deluxe 
                 spectrum.
Week of Feb 26, 2007 - BZ 292?  Ensure that tk app name is unique
                so multiple tkcons will open.
               - Fix inadvertent leaving of Gamma 2d as Ulong_t not
                 UInt_t and same for gamma deluxe, for 3.1 , Gamma 2dL
                 was already correct.
Week of March 5 - Add Splash screen.
                - Adjust chisquare calculation to be correct for CGaussianFit 
		  (thanks to Dirk Weisshaar).
Week of March 12, 2007-
	- Ensure that SpecTcl does not crash if VERSION not readable.
	  (BZ 294).
Week of March 19, 2007
        - Make CEvent::clear() O(1) time.bg
Week of April 2, 2007
        - Add disclaimer to filterread.htm about data beyond the last used
          position in filter buffers as someone made an assumption that is not
          true about it.
        - Added whatsnew3.1.htm page linked to front page that allows
          users to see what's new in SpecTcl 3.1

Pre-released April 26, 2007

Pre-3.
 
Week of April 30, 2007
        - Added observer capability to all dictionaries types.  This will
          allow support of traces on e.g. spectrum dictionary.
        - Added tests for dictionary observers and the observer manager
          helper classes.
        - Added capability to add/remove observers from the spectrum dictionary
          to CHistogrammer.
        - Added API entries to add/remove spectrum observers.
        - Added spectrum -trace command.
        - Added docs for the -trace command.
        - Made Xamine's Xamine_DrawFittedString also attempt truncation
          rather than just leaving a string blank if it does not fit.
          e.g. a title that is:
          "this is a very long string that does not fit"
          could get rendered/displayed as:
          "this is a very lo..."  if that's all the room there is
        - Port in the jumbo buffer decoder and put it in scriptable unpacker
            too
Week of May 7, 2007
        - BZ 295 - add support for splitting/joining filter files.  Note that
          cat can join perfectly well, so this reduces to writing a program
	  filtsplit that can split.  We'll choose to write:
		filtspilt --size blocks_per_file --output stem_name  input_file
          blocks_per_file - number of input filter blocks per output file.
          stem_name       - Is the stem of the split output files which 
                            will have names like stem_name_nnn.flt
          input_file      - Is the input file to split.
       - Changed swrite format level to 3: Make NSCLAsciiFormatter able to read:
         rev 2,1 and even 2 where summary spectra only have 1 coord.
       - Fix some issues with Gamma Delux 2d spectrum classes that don't compile
         on 4.x compilers
       - get NSCLAsciiFormatter to properly read rev 2,3 and 'malformed rev2'
         produced by the pre2 version of 3.2.
       - Make the spectrum file read functions able to correctly report errors in
         reads (e.g. not a spectrum file).
Week of May 14, 2007
       - BZ 297 - Make axis tick marks draw correctly if there's only one channel in 
        the spectrum (well really just don't draw tick marks at all.
       - Add code to support gate observers.. for new displayer.
       - Add -trace subcommand to gate.
       - Fix error in TreeParameter/SpectrumGenerator.tcl -state normal not
          -state enabled.
       - Fix error in TreeParameter/SpectrumGenerator.tcl - Duplicate button
         did not correctly decode parameters of spectrum being duplicated.
       - Add docs for the gate -trace subcommand to the web docs.
       - Fix CNSCLJumboBuffer::size32() member, was not correctly picking up 
         the buffer revision level.
Week of May 24, 2007
       - Only clear gates that are worth clearing.
Week of May 28,l 2007
       - Fix channel position to pixel position coversions which had
         the width of a channel to be too large (too few channels in displayed
         range.
       - Do some jiggerypokery with 1-d gates to make them more consistent with
         their integration:
         o On acceptance the right point is adjusted to the right by a channel.
         o Gate checking is now exclusive of the right point.
         o On entering in the display the adjustment is un-done so that
           Xamine will display correctly.
 Week of June 4, 2007
       - Ensure that Xamine's SuperPrompt::SetList message boxes
         from Xamine_error_msg() get displayed by making them
         children of the prompter's parent rather than of the prompter
         which, after all is hidden.
 Week of June 11, 2007
       - Get nice support for ubuntu edgy eft.
 Week of June 25, 2007
       - Begin adding the 'integrate' command.
 Week of July 2, 2007
       - 2-d integrations in Xamine had displayed standard deviations not
         fwhm's as advertised.
       - Add docs for integrate command.
Week of July 9, 2007
       - Corrected CPacket.cpp for jumbos in scriptable.
Week of August 13, 2007
       - BZ 318 - Old GUI SpectrumGenerator.tcl was not listing  applied
         gates correctly when the filter mask was not *
Week of Sept 10,2007
       - BZ 318 revisited... need to use hash tables for the applied gates
         rather than lists to be utterly reliable.
       - Fix error in gamma 2d deluxe where if only one y parameter was specified
         one of the constructors would segfault because it was mistakenly getting units
         from y[1] not y[0].
       - Fix error in swrite NSCLAsciiSpectrumFormatter...get axis limits directly from the
         spectrum description rather than dorking around to get them from
         the converter.
Pre3 released

October 11, 2007 Pre 4 (or possibly 3.2-001) opened.

October 12, 2007 - Make multicolored monster understand Gamman deluxe spectra.
October 15, 2007 - Redid a bunch of stuff with the test data sources to 
            allow attach, re-attach , re-re attach etc.  Don't think there
            are any memory leaks.
October 23, 2007 - Add detach menu entry.. really stops processing and does an
                   attach -file /dev/null 
                 - added version specific daq locations to search path for
                   spectcldaq (gui).

November  6, 2007 - Convert to svn repository
November 26, 2007 - BZ 327 - Fix multicolored monster problems with changing spectra
                    in resopnse to tree parameter range changes.
December 4,2007   - Correct the Usage member of the calibration fit command so that
                    it reflects the change in the name of the command.

January 3, 2008   - Install splash/license.terms -> $(prefix)/splash.license
                    to comply with its license terms.
Finalized Pre-release 4 January 3, 2008

Start edit level 3.2-pre5 (may change to 3.2-001 midstream.. watch the log below).
January 7, 2008   - Fixed include license.terms in the build.
                  - GUI Attach -pipe was failing due to attempts to set
                    the value of the buffersize widget prior to the creation
                    of that widget's spinbox.
January 9, 2008   - Add needParameter virtual to CSpectrum class hierarchy.
                    this is used to know which list spectra belong in.
January 10, 2008  - Fix errors in 1d construction.
          	  - Use spectra organized by parameter to make
                    increments a bit more efficent.
		  - Use observers to maintain the flattened gate lists
                    so there's no increment time overhead.
January 11, 2008 - Make CFlattenedGateList work even if the gate container
                   for the gate has changed from the inserted one.. 
                   that is match the name.
January 16, 2008 - Separate filter output formatting from the filter
                   class itself.
January 17, 2008 - Provide extensible filter format structure.
                 - Fix error in filter save in gui .. parameter list had
		   an extra layer of {}'s.
                 - Add ability to introspect filter format.
January 18, 2008 - Added support for the newer spectrum types to the API
                 - Added filter support to the API.
January 25, 2008 - Debugged filter support API
                 - Fixed error in gate flattener handling that was preventing
                   gate from being properly applied.
February 25,2008 - Work around lesstif file dialog bug..For each re-use of the file selection
                   dialog, explicitly set the search mask to the dirname of the  mask with
                   *.win appended.  lesstif has the tendency to store the selected file
                   in the filter path.
March 12, 2008   - Cosmetic changes to folder gui file menu and the prompter for the 
                   which gui to use dialog.
March 21, 2008   - Fix error in MCM GUI where parameters with empty units could cause
                   errors in the data structures keeping track of the parameters.
                   Specifically, the entries in the units list would collapse out of 
                   that list due to the use of append, rather than lappend to create those lists.
March 24, 2008   - Add spectrum memory usage to status line of folder GUI per Kevin Carnes 
                   suggestion.

March 24,2008 tag release of 3.2
Start work on 3.2-001

March 27, 2008    - Correct error in spectrum observer.  Don't try to enter a spectrum that is
                    not connected to all its parameters.  This can happen in e.g. sread.

March 28, 2008   - BZ330 (hopefully)
                    o Added easy ability to remove callbacks.
                    o Registered all graphical input widgets to call
                      Xamine_DestroyGraphicalInput on both delete and popdown
                    o Have Xamine_DestroyGraphicalInput 
                      * Kill mouse callbacks for graph input.
                      * Remove the callbacks for delete and popdown.

April 1, 2008    - Stop recycling properties dialog so it gets
                   properly recreated (lesstif mis-remanages it).
April 4, 2008    - BZ330 - Don't call cancel callback in
                    Xamine_DestroyGraphicalInput until the callbacks
                    are removed so we avoid recursion that will double
                    destroy the object.
April 22, 2008   - Fix slight errors in binning in SpecTcl.. correctly
                   compute the bin width for the integeristas.
                   Per Thomas Baumann.
May 7, 2008      - Fix defect in Xamine gate acceptor on m2 spectra.
                   Needed to select appropriately between adding the gate
                   and modifying the existing gate, rather than unconditionally
                   adding the gate.. which can throw an uncaught exception.
                   Thanks to Kevin Carnes KSU for stepping into this defect
                   and alerting me to it.
                 - Added Kevin Carnes and Dirk Weisshaar to the acknowledgements.
June 5, 2008     - Fix typeo in BufferAnalysis.h

July 11, 2008    - Gui/slice.tcl - re-init the browser on accepting a gate (reinit member)
                   that restores the parameters used to the list.
                 - Expose the treeview interface to clients of 
                   Gui/browser.tcl
August 18, 2008  - Update to tkcon V2.4
September 17, 2008 
                 - Fixed error in RunState handling.. Set it to
                   "Inactive" on event source EOF.  This is needed to
 		   support batchmode processing of e.g. filter files.

Start on 3.3
September 17, 2008 
		- Added extensible factory template class directory
                  factories.  This can be used both by new factories
                  and to refactor the code provided by existing factories.
                - Use extensible factory to generate the buffer decoder
                  selected by the attach -format switch so that buffer decoders
                  are extensible.
September 18, 2008
                - Registered default decoders with DataSourcePackage
September 22, 2008 
                - Added CRingBufferDecoder support so that ring buffer
                  data can be decoded.
September 26, 2008
                - Provided mechanisms for buffer decoders to specify they
                  operate either on fixed sized blocks of data or on streams.
                  This is needed to ensure SpecTcl's input stage does not
                  get permanently blocked when data taking pauses or 
                  a run ends on a stream oriented pipe data source.
                - Indicated that the CRingBufferDecoder is a stream decoder.
                - Documented SpecTcl::addBufferDecoder.
                - Documented new behavior of the -format switch on the
                  attach command.
                - Xamine - integrate superimposed spectra as well
                  as base spectra.
October 2, 2008 - Add ungate context menu option to new GUI.
                - Don't write applications if the gate is -Ungated-
                  (spectrum was ungated).
                - Correct the count of buffers analyzed to account for the
                  fact that the first buffer is sequence 0 so we need
                  the first buffer to increment our buffers analyzed -> 0.

January 5, 2009 - Added gamma summary spectrum.
January 15, 2009 
                - Fix Xamine compilation errors with -pedantic.
                  Need to use reinterpret_cast to cast XtPointer ->
                  function pointers.
                - Document gamma summary spectra in the on-board html.
                - Document GUI gamma summary spectrum creator.
                - Added API docs for gamma deluxe and gamma summary spectra
February 18, 2008
                - Made the background of the button box a clear indicator of whether
                  or not SpecTcl is in a test system.
pre2:
  March 6, 2009  - Make the rEvent array hold doubles not floats.
  March 18, 2009 - Fix tkcon.tcl so it does not implement a clear command
                   that interferes with the SpecTcl clear command.
  March 24, 2009 - Make the delgrob dialog a multiselect.
  May 1, 2009    - CSpectrum2Dm.{h,cpp}  Ensure these spectra get put in the
                  don't need a parameter list rather than some need a parameter list
                  which causes them to be grossly underincremented.
pre3:
  May   2009     - Port to debian lenny with minimized compiler warnings.
  May 20,2009    - In source files add back the newline after each lineof
                   a multiline command to prevent syntax errors on e.g.
                   pseudo defs.
  May 27, 2009   - Fix error switch/case for handling gate point scaling.
                   gamma gates resulted in no points being accepted.
  August 13, 2009 - Fix error in Strip chart spectrum was not requiring
                   that target parameter was defined.
                  - Fix error in strip chart shift.  If shift is larger than spectrum
                    channel count would segfault.
  Sep 4, 2009     - Fix BZ 378 - Segfaults can happen when cutting down the
                    Y parameters of a g2d spectrum to generate the title.

pre4: 
  October 11, 2009 - BZ 379 when SpecTcl started using double for parameters
                    in an event, filters broke.  The fix allows both filters
                    from older and current versions of SpecTcl to be read.
  October 14, 2009 - Strip chart spectrum was miscalculateing m_nOffset on
                     shifts to the left leaving gaps in the spectra for
                     continuously varying parameters.
  December 4, 2009 - Fix error in XMWarningDialog::Create .. was referencing
                     button objects prior to ensuring they were created.
  December 4, 2009 - BZ384 - Provide some fallback fonts in case the adobe-courier
                     family is not present.
                     BZ384 - Provide a const char* exception handler in main()
                             when caught displays a modal warning box with the
                             exception displayed and when dismissed exits Xamine.
                           - Throw an appropriate const char* exception when
                             no suitable fonts can be found in text.cc:LoadFonts

February 2, 2010  - Export CRingBufferDecoder.h to the world rather than
                    hiding it in noinst_HEADERS.
Feburary 11, 2010 - Modify data source GUI elements to include a data
                    format selector that includes support for ring so people
                    can attach to ring buffers or event files from the ring
                    buffer system.                      

pre6:
May 6, 2010 - Fold in KSU fix for tkcon problems on ubuntu 10.??
May 6, 2010 - Update to gri-2.12.20
May 14, 2010- Remove memswap usage in CIntegrateCommand.cpp.
            - Remove all -lpub's from Makefile.am and includes.
            - Fix buffer overflow (BZ 404) in griprint.c
pre7:
May 18, 2010 - Fix error in GUI spectrum usage calculation. Was under
              calcluating summary spectrum usage.
June 2, 2010
             - Fix treegui problems:
               * Gate dependencies not calculated right if only one gate.
               * mclistbox now clean for tcl 8.5
June 3, 2010
             - WO 2529-005-CP-005 - Add an extra layer of indirection
               (parameter scoreboarding) to improve the performance
               of histogramming when spectra and parameters are sparse.

June 13, 2011 - Fix some memory double deallocations found by Coupland.

3.3-002
	- Fixes pointed out by cppcheck static analyzer.
	- Misc. warning removals.
	- Use mkstemp rather than tmpnam in wsyswig printing.
3.3-003
June 30, 2011
       - Fix error in CRingBufferDecoder - premature free of glued buffer
3.3-004
November 14, 2011
       - Increase the capacity of the integration widget in Xamine to
         50,000 chars (Carpino request).

3.3-005
December 5, 2011 
	 - TR 6912 - undo changes in dfltmgr.cc suggested by cppcheck specifically:
           - assignment operator of win_*d infinitely recurses
	   - use memcpy instead which causes ccpcheck to complain about memcpy-ing objects
             circumventing assignment.  Must still see why the recursion occurs.
           - The earlier assignment was ill motivated and did not actually change the caller's
             win_xd for Xamine_CreatexdDefault.... functions as it just did pointer assignment
             rather than actually transferring the attributes to the caller.  This resulted in 
             unconditionally using a scatter plot rendition rather than the more usual color.


3.3-006
November 30-?? 2011
	- Added flag to guistate.tcl so that new/treegui can ask it to
	  save without spectrum -delete and thus support the 'cumulate'
	  (sic) checkbutton.
	- Fix errors in Stripchart spectrum shifting and channel caculation.
    	- Fix case in spectrum definition where we might ask Tcl to delete
          storage we never allocated.
        - Remove use of TkTable which disappears eventually in Tcl.
3.3-007 
??      - Ensure this all works on ring buffers.

3.3-008
	- issue 107 Fix SpecTcl-2d integration command (gives wrong answers)
	- issue 108 Support Xamine builds if OpenMotif is the motif version installed.
	- issue 105 In folder gui make spectrum save a 2-step wizard so that it fits
          on small screens better.
        - issue 973 Do a smart search for the ring buffer clients in data source tcl.
        - issue 866 Protect GUIs (folder standalone and tree) from multiple startups.

3.3-009
	- May 4, 2012 - Added cusbSpecTcl to the build.
        - June 6, 2012 - Added vmusbSpecTcl to the build.
	- June 6, 2012 Tell user about missing parameters array elements.
        - June 6, 2012 VMUSBSpecTcl - process madc -resolution config option.
3.3-010
	- June 8, 2012 Branched the development repository and upped the
                       configure.ac version to 3.3-010 
	- June 11, 2012 Issue #1089 fix order of gui startup with respect
	               to config file processing.
	- June 11, 2012 Issue #1087 correct handling when saving gates for
	               gates that have spaces in their name.
	- June 14, 2012 Issue #1008 Provide error information and exit if SpecTclRC.tcl
                        or SpecTclInit.tcl failed.
        - June 14, 2012 Issue #1070 Provide error information for failing Pseudo params.
	- June 15, 2012 Issue #1046:
	  * Default to ring format if online.
	  * Allow user to specify ring name.

        - June 15, 2012 Issue #1063 Improve new gui startup time.
3.3-011 - July 2, 2012  Issue # 1191 Save spectrum channel type (byte word longword e.g.)
          when doing a save of failsafe write.
        - July 9, 2012 Issue #1152, Issue #1150, Issue #1151, Issue #1153 - Get clean builds
          on Ubuntu Precise Pangolin.. 
        - July 24, 2012 - Use 64bit clean DataFormat.h (time_t -> uint32_t).
3.3-012
       - Issue #1322 - Add product name to VERSION file e.g. SpecTcl-
3.3-013
	- Issue #1451 - Re cast the Xamine shared memory region in terms of
          the types in stdint.h - this due to observation that 64bit 
          shared memory requirements were significantly larger than
          32 bit systems due to the use of architecture specific types.
       	- Issue #1328 - Remove SpecTcl's local instance of gri and require gri 
          be installed on systems using SpecTcl.  Note that lack of gri will
          result in  warning at configuration/install time.
        - Issue #1111 Add -rpaths in the case of links to shared libraries
          that are may not be in the normal places (e.g. provided by --with
          flags at build time).
        - Issue #1142 - Remove all dependencies on BLT as this package will
          likely become unavailable with Tcl 8.6 - which is now out of beta
          test.
        - Fixed various compile warnings in anticipation of compiler versions
          that will treat these as errors (finally solved the callbacks
          as data in Xt casting problem).
3.3-015
        * Fix error in griprint.cc - buffer overflow for printing spectra with
          numbers above 99.  Thanks to Dave Caussyn at FSU for finding this one.
        * Fix redef errors in NSCLAsciiFormatter..

3.4
        * Provide support code for NSCLDAQ-11/10 ring item decoding.
        * Issue # 1713, Issue# 1712 Support ringformat specification in
          all data source dialogs.  In addtion add the format selection
          to the bottom of data source prompters that did not originally
          have them.
        * Issue #1659 Provide mechanisms for ring buffer analyzers
          to fish data out of the event body header if it exists.
        * Issue #1658  Add ability for CRingBufferDecoder to autoselect
          the format helper if a ring format item is seen in the input data.
        * Issue #1633 Provide event processors with a post SpecTclRC.tcl
          initialization hook.
        * Much more documentation on how to build event processors etc.
        * Extract the tcl++ and exception libs so they can be centrally
          maintained.
3.4-001
	* Update AC_INIT to provide version number.
	* Add some tests to m4 and use them there instead of in
	configure.ac
	* Set up to use Jenkins CI server.
        * Only let the cppunit tests that don't need a display survive.
        * Properly integrate the V1729 FADC in VMUSB's spectclSetup.tcl
          file.
        * Fix error in vmusb spectclSetup.tcl typo on V1x90 configuration
3.4-002
	* Bug #2100 - gates on m2 spectra incorrectly convert their points.
        * Issue #2101 - Axis definitions for m2 and gd spectra are not clear.
        * Feature #2102 Want to display gates on m2 spectra.
3.4-003
	* Feature #2103 - Allow users to hide the gates on displayed spectra
          Spectra->Hide Gates and then refresh the menu is a toggle button.
        * Feature #1484 - Make work with Tcl 8.6.
	* Fix error in 11 ring format helper - was not getting the runnumber properly.
        * Remove clear command from new Tkcon so it does not interfere with 
          SpecTcl's.
3.4-004
	* Factor in the daqroot preference in finding ringselector.
	* Figure out if ringselector supports --non-blocking and
          if so turn it on.
        * Add TCLLIBS back into the compilation includes but use sed to
	  remove the -lieee to prevent the double def of _LIB_VERSION
	
4.0
        * Feature #1710 Deprecate the headers: Iomanip.h, Typeinfo.h  Fstream.h Istream.h Ostream.h
          Sstream.h Iostream.h, Applications shouls use instead <iomanip> directly
          now that this is in the standard.
        * Feature #3503 Fix autoconf warnings.
        * Bug #1746 Remove fixed paths to /usr/opt/daq in SpecTcl - configure
          them in with a default.
        * Feature #2760 - new analysis framework to replace the 8.0 version.  
	* Feature #3479 (change to existing functionality) Make
	spectra/displays from [low, hi) with nchan binning.
	* Feature #3922 - provide over/underflow statistics for spectra.
	* Feature #382 - Add a parameter selection menu button to the tree
	  parameter classic gate tab to aid in generating gates.
	* Feature #3527 - Add C++ startup code to put $SpecTclHome/TclLibs
	  in auto_path so scripts don't have to worry about it.
	* Bug #5983 - Fix errors in treemenu and scrolling menu...
	  Add/maintain scrolling buttons when required and ensure that
	submenus also get that functionality (forward ported from
	3.5-003).
      	*  Fix error in CSpectrumPackage::ListSpectra - out of scoped name
           used.
	

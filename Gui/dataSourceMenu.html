<html>
    <head><title>The data source menu</title>
    </head>
    <body>
    <h1>Data Source menu</h1><a name="top" />
        <p>SpecTcl can analyze data from two types of data sources.  <em>File</em> data sources
            are normally used in offline analysis, while <em>Pipe</em> data sources connect SpecTcl
            to the output of a program and are used, most frequently, to connect SpecTcl to an online
            data-taking system.</p>
        <p>The <em>Data Source</em> menu provides commands that connect SpecTcl to various data sources. Including
        specialized pipe and file data sources.</p>
        <br><br><a href="#top">Top</a>
        <h3>Online</h3>
            <p>The Data Source-&gt;Online (spectrodaq)... command allows you to attach SpecTcl to
               an online data source at the NSCL.  You are prompted to enter the hostname on which
               the data source is running.  At the NSCL, this will usually be some spdaq system.</p>
            <p>Once you have selected a host, the GUI will attach SpecTcl to that host's online system
               data source and start analyzing data.   Note that at the NSCL, this option will only succeed
               if the file /usr/opt/daq/current/bin/spectcldaq exists.  This is only true on systems in the
               data acquisition network (e.g. spdaq and data-U systems).</p>
            <br><br><a href="#top">Top</a>
        <h3>File</h3>
            <p>Prompts graphically for an event file.  When the event file is selected,
               The GUI will start analyzing data from it.</p>
            <br><br><a href="#top">Top</a>
        <h3>Pipe</h3>
            <p>Prompts graphically for a program or script to run. The standard output of
               this script is used as a data source for SpecTcl <font color="red">This is for experts
               only please!</font></p>
            <br><br><a href="#top">Top</a>
        <h3>List of Runs</h3>
            <p>It is often useful to analyze as set of runs as a single data source.
               This is done by first preparing a <em>cluster file</em>.  A cluster file is
               an ordinary text file that just lists the event files you want processed, one
               per line.  For example </p><br>
                <pre>
                    ~/stagearea/complete/run0-4096.evt

                    ~/stagearea/complete/run1-4096.evt
                    ~/stagearea/complete/run7-4096.evt
                    ~/stagearea/complete/run11-4096.evt
                    ~/stagearea/complete/run12-4096.evt
                    ~/stagearea/complete/run13-4096.evt
                    ~/stagearea/complete/run14-4096.evt
                    ~/stagearea/complete/run17-4096.evt
                </pre>
            <p>Note that whitespace and tilde expansion are supported, but not comments or wild
               card characters.</P.
            <p>Once a cluster file has been prepared, the Data Source-&gt;List Of Runs... command can be used
               to graphically prompt for the cluster file to process.  As each file is completely processed,
               processing continues on to the next file until all event files specified in the cluster file
               have been processed.</p>
               <br><br><a href="#top">Top</a>
        <h3>Filter File</h3><a name="FilterFile" />
            <p>Filter files are subsets of event data.  Filter files are generated by creating event filters.
               Event filters select events and parameters within those events to write to a filter file.
               See the <em>Filters Menu</em> for more information about filter files, and how to create them.</p>
            <p>In general, the SpecTcl version that created a filter file cannot directly read it back.  This
               is because the event structure of the filter file is much different than the raw event structure
               of the event file that created it.  Filter files are self describing, and a raw parameter unpacker
               for them is provided as part of the SpecTcl release.  See the SpecTcl online manual for more
               information about how to prepare a version of SpecTcl that is able to process filter files</p>
            <p>The Data Source-&gt;Filter File... command, when invoked the first time, warns you of the programmatic issues involved in reading
               fiter files and then prompts graphically for a filter file.  By convention, filter files are of type .flt.
               It is likely that analyzing a filter file with a version of SpecTcl that retains its raw event unpackers
               will result in SpecTcl crashing.</p>
            <br><br><a href="#top">Top</a>
        <h3>Detach</h3>
	   <p>Detaches SpecTcl from all data sources. </p>

    </body>
</html>

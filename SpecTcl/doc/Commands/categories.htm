<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<title>Categories of SpecTcl commands</title>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <th width="9%" nowrap><a href="http://www.nscl.msu.edu"><img
        src="../images/nscl_logo_small.gif"
        alt="nscl_logo_small.gif (2463 bytes)" width="63" height="52"></a></th>
        <td width="79%"><h1>SpecTcl commands</h1>
        </td>
        <td width="12%"><a href="../index.htm"><img
        src="../images/hh00706_.jpg"
        alt="HH00706_.wmf (6530 bytes)" width="192" height="84"></a></td>
    </tr>
</table>

<p><a href="../index.htm" name="Top">SpecTcl Home</a>&nbsp; <a
href="../general_information.htm">General Information</a> <a
href="../users_guide.htm">User Guide</a> <a
href="../programmers_guide.htm">Programmer's Guide</a> <a
href="../obtaining_and_installing.htm">Obtaining and Installing</a></p>

<p>This page contains both a <a
href="categories.htm#FunctionalIdx">Functional index</a> of
commands and an <a href="categories.htm#AlphaIdx">Alphabetical
Index</a>.</p>

<h2><a name="FunctionalIdx">Functional Index of Commands</a></h2>

<table border="0" width="100%">
    <tr>
        <td width="100%"><a href="categories.htm#DisplayControl">Display
        Control</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="categories.htm#EventSourced">Event
        Source Selection</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="categories.htm#RunControl">Run
        Control</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="categories.htm#Parameters">Parameter
        Manipulation</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="categories.htm#Spectrum">Spectrum
        Manipulations</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="#Gates">Gates</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="#saverestore">Saving and restoring state</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="#FormattedLists">Formatted Display of state</a></td>
    </tr>
    <tr>
        <td width="100%"><a href="#Filters">Filters</a></td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a></p>

<h3><a name="DisplayControl">Display Control</a></h3>

<p>While the number and sizes of the spectra supported by SpecTcl
is limited only by virtual memory available, the Xamine display
program has a limited number of spectrum <em>slots</em> and a
limited amount of spectrum storage.&nbsp; The number of slots is
fixed by Xamine, however the amount of storage is <a
href="../users_guide.htm#LimitConfig">set dynamically</a> when
SpecTcl initializes.&nbsp; The commands in the table below allow
the user to control which set of spectra are loaded into the
displayer's shared memory at any given time. &nbsp;&nbsp; Binding
and unbinding spectra does not affect spectrum contents.&nbsp;
They are copied into display storage from SpecTcl private
channels and back as needed.</p>

<table border="1" width="48%">
    <tr>
        <td width="16%"><strong>Command</strong></td>
        <td width="84%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="16%"><a href="bind.htm">sbind</a></td>
        <td width="84%">Attach a spectrum to a display slot</td>
    </tr>
    <tr>
        <td width="16%"><a href="unbind.htm">unbind</a></td>
        <td width="84%">Detach a spectrum from a display slot</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a> <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h3><a name="EventSourced">Event Source Selection</a></h3>

<p>SpecTcl can accept event data from several types of event
sources.&nbsp; Source and source types can be switched
dynamically throughout the run without exiting the program.
&nbsp; Thus you can start out analyzing online data and then
switch to analyzing data from disk, or tape and back.&nbsp; Tape
event sources are assumed to be ANSI labelled tapes with possibly
several run files per tape.</p>

<table border="1" width="64%">
    <tr>
        <td width="14%"><strong>Command</strong></td>
        <td width="86%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="14%"><a href="attach.htm">attach</a></td>
        <td width="86%">Attach an event source to SpecTcl
        detaching any current event source</td>
    </tr>
    <tr>
        <td width="14%"><a href="tape.htm">tape</a></td>
        <td width="86%">Select specific files from tape</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a> <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h3><a name="RunControl">Run Control</a></h3>

<p>While SpecTcl can analyze data and simultaneously respond to
user input, some operations, such as switching event sources,
require that data analysis be switched off. &nbsp; This section
describes commands for manipulating the way SpecTcl analyzes
data.</p>

<table border="1" width="57%">
    <tr>
        <td width="13%"><strong>Command</strong></td>
        <td width="87%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="13%"><a href="start.htm">start</a></td>
        <td width="87%">Start Event analysis</td>
    </tr>
    <tr>
        <td width="13%"><a href="stop.htm">stop</a></td>
        <td width="87%">Stop Event analysis</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a> <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h3><a name="Parameters">Parameter Manipulation</a></h3>

<p>SpecTcl parameters have three properties: </p>

<ol>
    <li>A name by which you refer to the parameter when
        constructing spectra.&nbsp; A parameter name can be any
        number of characters, Tcl/TK quoting rules may be needed
        if spaces and special characters are included, however.</li>
    <li>An id which represents the offset number in the Event
        array at which the parameter will be stored by the
        unpacker.&nbsp; Id's run from zero, there is no
        requirement for id's to be tightly packed, however.</li>
    <li>A resolution, which represents the number of bits of data
        present in each parameter.</li>
</ol>

<p>This section describes commands which manipulate parameters.</p>

<table border="1" width="83%">
    <tr>
        <td width="14%"><strong>Command</strong></td>
        <td width="86%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="14%"><a href="parameter.htm">parameter</a></td>
        <td width="86%">Creates, deletes, lists parameters.</td>
    </tr>
    <tr>
        <td width="14%"><a href="pseudo.htm">pseudo</a></td>
        <td width="86%">Creates a Pseudo Parameter.</td>
    </tr>
    <tr>
        <td width="14%"><a href="parlist.htm">ParList</a></td>
        <td width="86%">A Tcl script which creates a nicely
        formatted parameter list.</td>
    </tr>
    <tr>
        <td width="14%"><a href="saveparams.htm">SaveParams</a></td>
        <td width="86%">A Tcl script which saves parameter
        definitions to a Tcl/TK script file from which they can
        be restored.</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a>&nbsp; <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h3><a name="Spectrum">Spectrum Manipulations</a></h3>

<p>Parameters can be histogrammed into spectra.&nbsp; The spectra
can be <a href="categories.htm#DisplayControl">bound to the
displayer</a> to be Xamined.&nbsp; This section describes
commands which define, delete, list and in other ways manipulate
spectra.</p>

<table border="1" width="47%">
    <tr>
        <td width="14%"><strong>Command</strong></td>
        <td width="86%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="14%"><a href="channel.htm">channel</a></td>
        <td width="86%">Access channels of a spectrum.</td>
    </tr>
    <tr>
        <td width="14%"><a href="clear.htm">clear</a></td>
        <td width="86%">Zeros the contents of a set of spectra.</td>
    </tr>
    <tr>
        <td width="14%"><a href="spectrum.htm">spectrum</a></td>
        <td width="86%">Creates, lists or deletes spectra.</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a>&nbsp; <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h3><a name="Gates">Gate Manipulations</a></h3>

<p>Gates can be created and applied to spectrum to control when they are
incremented.&nbsp; In general, a spectrum is incremented only if the following
conditions are true:</p>

<ul>
  <li>All parameters needed for the spectrum exist in the event.</li>
  <li>All parameters needed for the spectrum are within the spectrum range.</li>
  <li>Any gate applied to the spectrum evaluates to True for the event.
    <p>&nbsp;&nbsp; Note:&nbsp; If a parameter needed for a gate is not present,
    then the gate evaluates false.</li>
</ul>
<table border="1" width="54%">
  <tr>
    <td width="18%"><b>Command</b></td>
    <td width="82%"><b>Purpose</b></td>
  </tr>
  <tr>
    <td width="18%"><a href="apply.htm">apply</a></td>
    <td width="82%">Applies a gate to a spectrum.</td>
  </tr>
  <tr>
    <td width="18%"><a href="gate.htm">gate</a></td>
    <td width="82%">Creates, lists or deletes a gate.</td>
  </tr>
  <tr>
    <td width="18%"><a href="ungate.htm">ungate</a></td>
    <td width="82%">Ungates a spectrum.</td>
  </tr>
</table>

<p><a href="categories.htm#Top">Top</a>&nbsp; <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<h2><a name="saverestore">Saving and Restoring State</a></h2>

<p>These commands are actually implemented by&nbsp; Tcl scripts which are stored
in $SpecTclHome/Script. The Read scripts support some action tailoring see <a href="../users_guide.htm#LimitConfig">here</a>
for more information.&nbsp; Commands to save and restore the analysis state are:</p>

<table border="1" width="75%">
  <tr>
    <td width="28%"><b>Command</b></td>
    <td width="72%"><b>Purpose</b></td>
  </tr>
  <tr>
        <td width="1%"><a href="clean.htm">clean</a></td>
        <td width="110%">Deletes all parameter and spectra</td>
  </tr>
  <tr>
        <td width="1%" valign="top"><a href="loadall.htm">loadall</a></td>
        <td width="110%">Loads a saved state file created with saveall. Saved
          state files are Tcl scripts.&nbsp; Loadall executes lines in the
          script file while handling known errors which can occur in
          definitions.</td>
  </tr>
  <tr>
        <td width="1%" valign="top"><a href="saveall.htm">saveall</a></td>
        <td width="110%">Saves the state of the SpecTcl analysis to a file which
          can be read in using loadall</td>
  </tr>
  <tr>
        <td width="1%" valign="top"><a href="sread.htm">sread</a></td>
        <td width="110%">Read a spectrum from file</td>
  </tr>
  <tr>
        <td width="1%" valign="top"><a href="swrite.htm">swrite</a></td>
        <td width="110%">Write a set of spectra to file</td>
  </tr>
</table>

<p><a href="#Top">Top</a> <a href="#FunctionalIdx">Functional Index</a></p>

<h2><a name="Filters">Filters</a></h2>

<p>The <a href="filter.htm">filter</a> command allows you to create and
manipulate event filters.</p>

<h2><a name="FormattedLists">Formatted State Displays</a></h2>

<p>Most of SpecTcl's native commands for listing internal state produce output
which can be easily processed by other SpecTcl scripts.&nbsp; While this
simplifies the act of extending SpecTcl, it does make it a bit hard to interpret
the data produced by these commands.&nbsp; Standard scripts are supplied with
SpecTcl to produce more user friendly output:</p>

<table border="1" width="83%">
  <tr>
    <td width="50%"><b>Command</b></td>
    <td width="50%"><b>Purpose</b></td>
  </tr>
  <tr>
        <td width="12%" valign="top"><a href="aplist.htm">ApList</a></td>
        <td width="88%">Creates s nicely formatted list of which spectra have
          gates applied and what those gates are.</td>
  </tr>
  <tr>
        <td width="12%"><a href="gatelist.htm">GateList</a></td>
        <td width="88%">Displays a nicely formatted list of the gates</td>
  </tr>
  <tr>
        <td width="12%" valign="top"><a href="more.htm">More</a></td>
        <td width="88%">Paginate output.</td>
  </tr>
  <tr>
        <td width="12%" valign="top"><a href="parlist.htm">ParList</a></td>
        <td width="88%">A Tcl script which creates a nicely
        formatted parameter list.</td>
  </tr>
  <tr>
        <td width="12%"><a href="speclist.htm">SpecList</a></td>
        <td width="88%">Lists spectra in human readable format</td>
  </tr>
</table>

<p><a href="#Top">Top</a> <a href="#FunctionalIdx">Functional Index</a></p>

<h2><a name="AlphaIdx">Alphabetical Index of Commands</a></h2>

<table border="1" width="100%">
    <tr>
        <td width="12%"><strong>Command</strong></td>
        <td width="88%"><strong>Purpose</strong></td>
    </tr>
    <tr>
        <td width="12%"><a href="apply.htm">apply</a></td>
        <td width="88%">Applies a gate to a spectrum</td>
    </tr>
    <tr>
        <td width="12%"><a href="aplist.htm">ApList</a></td>
        <td width="88%">Creates s nicely formatted list of which spectra have
          gates applied and what those gates are.</td>
    </tr>
    <tr>
        <td width="12%"><a href="attach.htm">attach</a></td>
        <td width="88%">Attach an event source to SpecTcl
        detaching any current event source</td>
    </tr>
    <tr>
        <td width="12%"><a href="channel.htm">channel</a></td>
        <td width="88%">Access channels of a spectrum.</td>
    </tr>
    <tr>
        <td width="12%"><a href="clean.htm">clean</a></td>
        <td width="88%">Deletes all parameter and spectra</td>
    </tr>
    <tr>
        <td width="12%"><a href="clear.htm">clear</a></td>
        <td width="88%">Zeros the contents of a set of spectra.</td>
    </tr>
    <tr>
        <td width="12%"><a href="filter.htm">filter</a></td>
        <td width="88%">Creates and manipulates event filters.</td>
    </tr>
    <tr>
        <td width="12%"><a href="gate.htm">gate</a></td>
        <td width="88%">Create list or delete&nbsp; gates</td>
    </tr>
    <tr>
        <td width="12%"><a href="gatelist.htm">GateList</a></td>
        <td width="88%">Displays a nicely formatted list of the gates</td>
    </tr>
    <tr>
        <td width="12%" valign="top"><a href="loadall.htm">loadall</a></td>
        <td width="88%">Loads a saved state file created with saveall. Saved
          state files are Tcl scripts.&nbsp; Loadall executes lines in the
          script file while handling known errors which can occur in
          definitions.</td>
    </tr>
    <tr>
        <td width="12%"><a href="more.htm">More</a></td>
        <td width="88%">Paginate output</td>
    </tr>
    <tr>
        <td width="12%"><a href="parameter.htm">parameter</a></td>
        <td width="88%">Creates, deletes, lists parameters.</td>
    </tr>
    <tr>
        <td width="12%"><a href="parlist.htm">ParList</a></td>
        <td width="88%">A Tcl script which creates a nicely
        formatted parameter list.</td>
    </tr>
    <tr>
        <td width="12%"><a href="pseudo.htm">pseudo</a></td>
        <td width="88%">Manipulates pseudo parameters.</td>
    </tr>
    <tr>
        <td width="12%"><a href="saveall.htm">saveall</a></td>
        <td width="88%">Saves the state of the SpecTcl analysis to a file which
          can be read in using loadall</td>
    </tr>
    <tr>
        <td width="12%"><a href="spectrum.htm">spectrum</a></td>
        <td width="88%">Creates, lists or deletes spectra</td>
    </tr>
    <tr>
        <td width="12%"><a href="speclist.htm">SpecList</a></td>
        <td width="88%">Lists spectra in human readable format</td>
    </tr>
    <tr>
        <td width="12%"><a href="bind.htm">sbind</a></td>
        <td width="88%">Attach a spectrum to a display slot</td>
    </tr>
    <tr>
        <td width="12%"><a href="sread.htm">sread</a></td>
        <td width="88%">Read a spectrum from file</td>
    </tr>
    <tr>
        <td width="12%"><a href="start.htm">start</a></td>
        <td width="88%">Start Event analysis</td>
    </tr>
    <tr>
        <td width="13%"><a href="stop.htm">stop</a></td>
        <td width="87%">Stop Event analysis</td>
    </tr>
    <tr>
        <td width="12%"><a href="swrite.htm">swrite</a></td>
        <td width="88%">Write a spectrum to file</td>
    </tr>
    <tr>
        <td width="12%"><a href="tape.htm">tape</a></td>
        <td width="88%">Select specific files from tape</td>
    </tr>
    <tr>
        <td width="12%"><a href="unbind.htm">unbind</a></td>
        <td width="88%">Detach a spectrum from a display slot</td>
    </tr>
    <tr>
        <td width="12%"><a href="ungate.htm">ungate</a></td>
        <td width="88%">Removes a gate condition from a histogram</td>
    </tr>
</table>

<p><a href="categories.htm#Top">Top</a> <a
href="categories.htm#FunctionalIdx">Functional Index</a></p>

<p><a href="../index.htm">SpecTcl Home</a>&nbsp; <a
href="../general_information.htm">General Information</a> <a
href="../users_guide.htm">User Guide</a> <a
href="../programmers_guide.htm">Programmer's Guide</a> <a
href="../obtaining_and_installing.htm">Obtaining and Installing</a></p>

<hr>

<p>Last Modified: <!--webbot bot="Timestamp" s-type="EDITED"
s-format="%B %d, %Y" startspan -->October 28, 2003<!--webbot bot="Timestamp" endspan i-checksum="30351" --> by: <a
href="mailto:fox@nscl.msu.edu">fox@nscl.msu.edu</a><br>
<font size="2">© Copyright NSCL 1999, All rights reserved</font></p>
</body>
</html>

Modifications for SpecTcl 2.2
January 30,2004  - Updated gri to gri-2.12.7
March 23, 2004   - Issue 97b - Add hierarchical unpacking capability to scripted spectcl.
                             - Also don't require begin run to pick up config.
March 31, 2004   - Added -rpath to contrib/scripted Makefile so that
                   LD_LIBRARY_PATH or ld.so.conf not needed.
April  5, 2004   - Fix issue 118 - low level cutoff display bug.
April 12, 2004   - Extract as many defs as possible from skeleton makefiles
                   to centrally located include files in order to keep the
 	           user makefiles constant.
                 - Use etc not Etc for etcetera stuff.
                 - Add buildstamp
April 13, 2004   - Fix memory leak on delete -all command: Spectrum
                   storage itself is not getting deleted.
                 - Fix lack of error checking on insufficient memory for
                   binding 2d spectrum (can segfault).
April 29, 2004   - Fix issue 95: parameter -list -byid fails.
April 29, 2004   - Fix issue 105: sbind Usage level help calls itself the
                   bind command which conflicts, of course, with the TCL
                   bind command.
April 29, 2004   - Fix issue 111 - swrite command creates a file even if no
                    existing spectra have been specified.
May 5, 2004      - Fix little diddly issues with printing and also
                   Put right limit at the top of a channel rather than the
                   left side of a channel.
                 - Fix ISSUE 118 superpositions in window files are written
	           as id's not as names.
	         - Fix issue 123 superpositions don't print
	         - Fix issue 124 FWHM is not translated to mapped coordinates
	           when spectrum is in mapped mode.
May 12, 2004     - Fix issue 49  
	           Fetching values from ValidValues that are in the
	           invalid state will now throw exceptions 
                 - Fix issue with Display/Makefile that clean leaves behind
                   detritus from flex and bison. (Added MOSTLYCLEANFILES 
                   to Display/Makefile.am).
June 8, 2004     - Increase spectrum size limits to 2^31.
June 17, 2004    - Defect 131 - There were problems generating the print tick
		   intervals when the axis specifications went in 'reverse'
		   (e.g. {100 -100 200}).  Fixed in modifications to
		   griprint.cc I think.
                 - Fix build issues in TestFiles directory so that the
                   event test generting programs can be built again Yeah.
July 1, 2004     - Defect 135 - swrite does not properly preserve the
                   axis mapping information.
	           Fallout from defect 133 discovered and fixed a defect
                   that causes the axis tick computation to DIV0 when
                   mapped axes have decreasing values going away from the
                   origin (e.g. {100 -100 201}).
July 2, 2004     - Defect 132 - Translator pointers are constrained to 
                   natural data boundaries.
                 - Defect 137 - Fix defect introducec by fix of Defect 132:
		   assumed getOffset was returning T offset it's now returning
		   byte offsets.
July 9, 2004     - Added DesignByContract to the Utility headers.
July 27, 2004    - Added contrib/calibratedparams  (TUNL) for linear
                   calibrations for parameters first the fit functions.
July 30, 2004    - Added CCAENV1x90Data.h to contrib/scriptable in order
                   to support unpacking of this module.
August 9, 2004   - Modified colormgr.cc to better deal with systems that
                   have visuals that are not in decent order nor good:
                   Look through all the visuals and choose the true/direct
                   color visual with the most bits, if none exist, then
                   Choose the Pseudo color visual with the most bits.
	           If none of those exist drop back to bitonal.
August 16, 2004 - Fix broken link  to apply.htm in categories.htm documentation
August 17, 2004  - Added the calbrated parameters sources to the mix
                   (need to get them to compile!).
                   Debugged as of August 20.
August 25, 2004  - Fixed defect 144 - memory leak if user rejects events.
September 2, 2004 - Made pseudo parameters pass validity flags too.
September 7, 2004 - Fix error in CEventFilter::setBit... which did not
                    count on there being 8 bits per byte.
September 8, 2004 - Removed in-linedness of CGate::RecursiveReest I had
                    thought this was triggering a compiler error but
                    it was not in fact.  Since this is a virt. there's no
                    gain to inlining it anyway.
September 23,2004 - NamedItem.h - decided to finally trust stl's string
                    constructors.. the way I was doing named item
 	            constructors was giving Purify fits.
September 24,2004 - Added CalibrationDistribution to produce evenly spaced
                    identical peaks.
                  - Added mechanism to fetch the applicatino's test data
                    source so that it can be modified etc.
                  - Fixed defect in CTclGrammerApp::SetupTestDatsSource
                    there was a local declaration of a m_pMultiTestSource
                    that masked the member data.:

September 30,2004 - Happy Birthday Ron!! 
                  - Fixed issue 133 Centroids and
	            FWHM not correct for mapped parameters (still).
                  - Made test distributions produce floating point params
                    to make the more flexible.. Gaussian is a symmetric
                    cutoff now.
October   4, 2004 - Added a bit of defensive programming in view of defect
                    149.
October  19, 2004 - Changed default gate names in Xamine to be better in line
	            with well behaved TCL Strings.
October 18-20  2004 - Factor all coordinate transformations into common spots 
                     part of trying to fix defect 133.
October 20,    2004 - Additional code reorganization of Xamine stuff that
                    I just could not stand to look at in fixing defect 133.
October 20,    2004 - Factor acceptgates.cc DrawPoints functions back into
                     the base class where it belongs.  Could not stand to look
	             at it duplicated in 3 different places.
October 20-22    2004 - Fix defect 145: Spaces and special characters in names
                      can make saveall loadall fail miserably...and other misc.
                      things uncovered while repairing the defect.
October 25,26    2004 - Optimize 1d long histogram increments.  Note that many
                      but not all changes will help 2d word increments too, but
                     these (less often used) histograms won't get full benefit
                     as there are modifications to the Spectrum1DL file that
		     are deliberately not propagated back to Spectrum1DW
October 27,      2004 -Optimize2d short histogram increments

November 3,2004 - Fixed position computations on expanded spectra.
November 4,2004 - Fixed defect 60 in Xamine: Spectrum choosers should come out
                 sorted by name.
November 102004 - Repaired defect 147: Xamine copy object copies to wrong
                  spectrum if slot # > 999

Edit level 2.2-001
November 30, 2004 
	- Forward port fix to defect 151 from 2.1:
             colorscales on griprint were way off for 2-d prints.
        - Fix unnumbered defect: channel get/set broke for 2-d gamma 
          spectra starting with SpecTcl 2.2
December 28, 2004
        - Change some ExprLong -> strtol when we want unsigned values as
          with Tcl 8.4, ExprLong is a signed value.
December 31, 2004
        - D. Bazin removed the sample Makefile s from treeparam.  Adjust
          contrib/Makefile.am to deal with this.
January  6, 2005
        - Add missing quote to makefile.skel
January 11, 2005
        - Another treeparam update from D. Bazin
January 12, 2005
        - Add O_TRUNC to open on swrite otherwise existing files that are
          longer than the new file leave junk on the back end.
January 26, 2005
        - Fix a problem with long spectrum names:
          o Truncation to Xamine fixed size names caused assertion failures in 
             unbind 
          o Buffer overflow in spectra.cc could cause amusing thing in the
            Xamine spectrum chooser that ultimately could result in a segfault.
January 27, 2005
        - Catch missing backport of Xamine fix to lower level cut off
          does not display correctly.

2.2-002
March 4, 2005
      - Set the version string in Globals.cpp to 2.2-002
2.2-003
April 16, 2005
      - contrib/calibparam: Add a random number in the range [-0.5, 0.5] to
        the input parameter of the calibration to undiscretize it.  The
        assumption here is that the input parameter is indeed an integer.
        If this is not correct that's a problem.  In the future, it may be
        a good idea to allow this value to be set by the user.
April 21, 2005
     - Fix scaling offset problem with placement of grobs
May 2, 2005
     - Ensure that filter files are cleanly closed on
       normal program exit.
May 12, 2005
     -  Fix error in the attach -format which deleted the
          old formatter and then proceded to indirectly call its OnDetach
          member
2.2-004
    - Retry pipe file select if it failed with eintr.
    - Get this to build  with newer versions of autotools
    - Get this to build with linux lesstif.
    - Fix typo in contrib/scriptable/Makefile.am from mods above.
2.2-005
    - Fix 64-bit uncleanliness in Xamine
2.2-006
    - Add wywsiwyg printing based on pane dumps.
    - Fixed defects 195, 196: gri was emitting encapsulated postscript,
      make it emit ps instead as otherwise multiple page output gets squashed
      onto a single page....printer.cc for Xamine: print setup dialog had
      a duplicate widget name which caused the dialog to act funny.
    - Add stuff to configure.in to locate the gd library and headers used
      by wysiwyg Xamine printing.
2.2-007
   - fix defect 197: Averaging reduction used x box length 1 chan too long
   - fix defect 209: 64 bit uncleanliness in some long spectra.
   - Fix defect 210: as it pertains to us... AppInit.cpp does %d -> longs.
                     which is 64 bit unclean.
   - Fix defect 211: Making g1 spectrum with empty parameter list segfaults.
   - Fix defect in allocator.c - alignment mask was mis computed resulting
     in xamine free list corruption
   - Fix defect in wysiwyg printing of zoomed pane
   - Fix defect 215 - error computing scale range for lineary 
     1d plots.
  Released Sept. 21, 2006

2.2-008
   - BZ 219 - Add version output to tcl's stdout. Oct 17, 2006.
   - Nov 9, 2006 - install CHANGELOG
   - Nov 17, 2006 - Fix issue 228 Xamine print defaults don't get
            fully made always.  This causes bad Xamine.Defaults files
            as well as errors in printing or Xamine Crashes.
   - Dec 19, 2006 - Fix buffer deletion in CXdrInputStream.cpp
            per D. Caussyn's catch.  delete [] m_pBuffer not delete m_pBuffer.
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">

<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>What's new in SpecTcl 3.3, 3.4</title>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
        <th width="9%" nowrap><a href="http://www.nscl.msu.edu"><img
        src="../images/nscl_logo_small.gif"
        alt="nscl_logo_small.gif (2463 bytes)" width="63"
        height="52"></a></th>
        <td width="79%"><h1>What's new in SpecTcl 3.3, 3.4</h1>
        </td>
        <td width="12%"><a href="../index.htm"><img
        src="../images/hh00706_.jpg"
        alt="HH00706_.wmf (6530 bytes)" width="192" height="84"></a></td>
    </tr>
</table>

<p><a href="../index.htm" name="Top">SpecTcl Home</a>&nbsp; <a
href="../general_information.htm">General Information</a> <a
href="../users_guide.htm">User Guide</a> <a
href="../programmers_guide.htm">Programmer's Guide</a> <a
href="../obtaining_and_installing.htm">Obtaining and Installing</a></p>


<!-- Content goes here -->

<ul>
    <li><a href='#3.3'>New features in SpecTcl-3.3</a></li>
    <li><a href='#3.4'>New features in SpecTcl-3.4</a></li>
</ul>

<h2 id='3.3'>New features in SpecTcl-3.3</h2>

<ul>
    <li>
        Made the set of decoders selected by <tt>-format</tt> in the
        <tt>attach</tt> command extensible.  Added a decoder for
        Ring buffer data (nscldaq-10.0 and later).  Modify the data source
        menu GUIs so that users can select the data format.
    </li>
    <li>
        In Xamine, the integrate button now also integrates the same
        regions in superimposed spectra.
    </li>
    <li>
        Folder gui can now ungate spectra by right clicking them.  Futhermore
        Spectra whose gates are named <tt>-Ungated-</tt> don't have that application
        written to file as they represent ungated spectra.
    </li>
    <li>
        Added a Gamma summary spectrum type and appropriate mechanisms to
        create this spectrum from the folder GUI.
    </li>
    <li>
        Make parameters doubles rather than floats as there were people for
        whom single precision data was a problem and caused binning effects.
    </li>
    <li>
        Make it possible to delete multiple graphical objects in a single
        dialog in Xamine (the selection is now a multiselect).
    </li>
    <li>
        Fix errors in gate point scaling that caused problems with gamma gates.
    </li>
    <li>
        Fix error in strip chart spectra, require both parameters to be defined
        to increment the spectrum.  Fix another error that caused stripchart
        spectrum increments to segfault if certain types of channel shifts were
        required to perform the increment.
    </li>
    <li>
        Fix errors in generating the descriptions of a spectrum.  When cutting
        down a large number of parameters, a segfault could occur.
    </li>
    <li>
        Provided fallback font specifications in Xamine so that if the adobe-courrier
        fonts normally used are not available on the system, use a font
        that Xwindows and Windows guarantee exists.
    </li>
    <li>
        Remove gri from the build.  Require it be installed externally on the
        host system to install SpecTcl.
    </li>
    <li>
        Remove completely dependency on libpub, since that's unmaintained for
        most Linux distros now.
    </li>
    <li>
        Fix errors in calculating the spectrum usage for the folder GUI. It was
        under-calculating the usage.
    </li>
    <li>
        Fix some tree gui problems.  Gate dependencies were not calcluated right
        for one gate, and mclistbox did not work in tk 8.5.
    </li>
    <li>
        Add parameter scoreboarding which improves histogramming performance
        by not needing to iterate over parameters that are not part of the
        event.  This is a performance loss for dense parameters and big gain
        for sparse parameters.
    </li>
    <li>
        Increase the capacity of the integration widget in Xamine to
        50,000 characters.
    </li>
    <li>
        Removed dependency on TkTable which disappears in Tk 8.5 to be replaced
        by ttk::treeview.
    </li>
    <li>
        Added a flag that allows the folder gui to read in spectra without
        previously deleting all spectra.  This mimics the old tree parameter
        <tt>cumulate</tt> checkbox.
    </li>
    <li>
        Fixed errors in 2d integration that gave wrong answers.
    </li>
    <li>
        Keep the folder and treegui interfaces from being started more than
        once.
    </li>
    <li>
        Provide error information for <tt>SpecTclRC.tcl</tt> and
        <tt>SpecTclInit.tcl</tt> errors.
    </li>
    <li>
        Output informationa bout why a pseudo parameter failse.
    </li>
    <li>
        Added ccusb and vmusb spectcl's to the build and add support for
        the Mesytec MADC-32 module to vmusbspectcl.
    </li>
    <li>
        The VERSION file now contains the product (e.g. SpecTcl).  This allows
        e.g <tt>find /usr/opt -name VERSION -exec cat {} \;</tt> to give
        sensible results.
    </li>
    <li>
        Recast the shape of the Xamine shared memory region in terms of
        the <tt>stdint.h</tt> header definitions.  This was triggered by the
        observation that spectrum requirements were much larger for 'long'
        spectra in 64 bit systems.
    </li>
    <li>
        Removed all dependencies on BLT since that package will likely not
        be available on Tcl/Tk 8.6.
    </li>
    <li>
        Update compiler version that is supported to build SpecTcl.
    </li>
</ul>

<h2 id='3.4'>New features in SpecTcl-3.4</h2>

<p>
    The following are new with SpecTcl-3.4:
</p>
<ul>
    <li>
        Support NSCLDAQ-11.0 ring formats. This includes folder GUI support for
        selecting the correct format.
    </li>
    <li>
        Provide methods in the <tt>CRingBufferDecoder</tt> to allow event
        processors to fish bits of data out of the ring and body headers.
    </li>
    <li>
        Provide a hook to event processors to allow them to perform initialization
        after all the start scripts have run.
    </li>
    <li>
        Provide better documentation on how to write event processors.
    </li>
</ul>

<!-- Content ends -->

<p><a href="#Top">Top</a></p>

<p><a href="../index.htm">SpecTcl Home</a>&nbsp; <a
href="../general_information.htm">General Information</a> <a
href="../users_guide.htm">User Guide</a> <a
href="../programmers_guide.htm">Programmer's Guide</a> <a
href="../obtaining_and_installing.htm">Obtaining and Installing</a></p>

<hr>

<p>Last Modified: <!--webbot bot="Timestamp" s-type="EDITED"
s-format="%B %d, %Y" startspan -->October 28, 2003<!--webbot
bot="Timestamp" endspan i-checksum="30351" --> by: <a
href="mailto:fox@nscl.msu.edu">fox@nscl.msu.edu</a><br>
<font size="2">© Copyright NSCL 1999, All rights reserved</font></p>
</body>
</html>

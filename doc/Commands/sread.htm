<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>sread</title>
</head>

<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <th width="9%" nowrap><a href="http://www.nscl.msu.edu"><img src="../images/nscl_logo_small.gif" alt="nscl_logo_small.gif (2463 bytes)" width="63" height="52"></a></th>
    <td width="79%">
      <h1>sread - Read a spectrum from file</h1>
    </td>
    <td width="12%"><a href="../index.htm"><img src="../images/HH00706_.jpg" alt="HH00706_.jpg (6530 bytes)" width="192" height="84"></a></td>
  </tr>
</table>
<h2>Syntax</h2>
<pre>sread [-format <i>fmt</i>] [-[no]snapshot] [-[no]replace] [-[no]bind] <i>file</i></pre>
<h2>Synopsis</h2>
<p>Reads a spectrum either from a file specified by name or a file opened with
the Tcl <b>open</b> command.</p>
<h2>Description</h2>
<p>The next spectrum in the <i>file</i> parameter is read.&nbsp; The <i>file</i>
parameter can either be a path to a file, or a handle returned from the Tcl <b>open</b>
command.&nbsp;&nbsp;&nbsp; If the <i>file </i> is a path, the file is opened,
the first spectrum read, and then the file is closed.&nbsp; If the <i>file</i>
parameter is a Tcl file handle, the next spectrum at the current position in the
file is read, and the file remains open for further I/O.</p>
<p>The -format switch specifies the format of the spectrum in the file.&nbsp;
The default is ascii.&nbsp; </p>
<table border="1" width="100%">
  <tr>
    <td width="20%"><b>Format Specifier</b></td>
    <td width="80%"><b>Format</b></td>
  </tr>
  <tr>
    <td width="20%">ascii</td>
    <td width="80%">NSCL ASCII formatted file.</td>
  </tr>
  <tr>
    <td width="20%">binary</td>
    <td width="80%">NSCL Binary (SMAUG) formatted file.</td>
  </tr>
  <tr>
    <td width="20%">nsclascii</td>
    <td width="80%">NSCL ASCII formatted file.</td>
  </tr>
  <tr>
    <td width="20%">nsclbinary</td>
    <td width="80%">NSCL Binary (SMAUG) formatted file.</td>
  </tr>
</table>
<p>SpecTcl's Spectrum I/O facility is user extensible. The set of file formats
supported by sread for any build of SpecTcl can be gotten by just typing:</p>
<pre>sread</pre>
<p>What is done with the spectrum read in depends on the the state of the
switches:</p>
<table border="1" width="100%">
  <tr>
    <td width="18%">Switch</td>
    <td width="21%">Default</td>
    <td width="61%">Action</td>
  </tr>
  <tr>
    <td width="18%">-[no]snapshot</td>
    <td width="21%">-snapshot</td>
    <td width="61%">&nbsp;</td>
  </tr>
  <tr>
    <td width="18%">-[no]replace</td>
    <td width="21%">-noreplace</td>
    <td width="61%">&nbsp;</td>
  </tr>
  <tr>
    <td width="18%">-[no]bind</td>
    <td width="21%">-bind</td>
    <td width="61%">&nbsp;</td>
  </tr>
</table>
<p><a href="#Top">Top</a></p>
<h2>Examples</h2>
<h3>Writing to a file path.</h3>
<pre>swrite -format ascii /usr/users/TruCluster/users/fox/test.asc spec1 spec2 spec3</pre>
<p>The spectra specified by spec1, spec2, spec3 are written in that order to the
file /usr/users/TruCluster/users/fox/test.asc in NSCL ascii format.</p>
<h3>Writing to a file opened with Tcl's open command</h3>
<pre>set file [open ~/test.asc w]
puts   $file &quot;2 in ascii&quot;
swrite -format ascii $file spec1 spec2
puts   $file &quot;1 in binary&quot;
swrite -format binary $file spec3
close $file</pre>
<p>The file test.asc is created in the home directory.&nbsp; First text is
written to the file indicating that 2 spectra follow in ascii format.&nbsp; Next
spec1 and spec2 are written in ascii format.&nbsp; Then text indicating that a
single spectrum follows in binary format is written, followed by spec3 in binary
notation.</p>
<h3>Writing to a pipe open on a process</h3>
<pre>set file [open {|gzip /usr/users/TruCluster/users/fox/test.asc} w]
swrite -format $file ascii spec1 spec2 spec3
close $file</pre>
<p>Writes the spectra spec1, spec2 and spec3 to a pipe into gzip in ascii form.&nbsp;
The gzip pipe compresses this file producing /usr/users/Trucluster/users/fox/test.asc</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr>
<p>Last Modified: <!--webbot bot="Timestamp" s-type="EDITED"
s-format="%B %d, %Y" startspan -->April 18, 2001<!--webbot bot="Timestamp" endspan i-checksum="17669" -->
 by: <a href="mailto:fox@nscl.msu.edu">fox@nscl.msu.edu</a><br>
<font size="2">© Copyright NSCL 1999, All rights reserved</font></p>

</body>

</html>
